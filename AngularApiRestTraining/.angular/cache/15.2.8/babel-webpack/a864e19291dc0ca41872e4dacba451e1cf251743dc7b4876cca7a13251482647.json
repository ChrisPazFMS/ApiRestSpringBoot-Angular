{"ast":null,"code":"import { environment } from 'src/app/environment/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/training/training.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UpdeteTrainingComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"img\", 6);\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"h5\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 9);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 9);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 9);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementStart(12, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UpdeteTrainingComponent_div_4_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updeteTraining(ctx_r2.training));\n    });\n    i0.ɵɵtext(13, \"Supprimer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function UpdeteTrainingComponent_div_4_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateTraining(ctx_r4.training));\n    });\n    i0.ɵɵtext(15, \"Modifier\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.hostImageTrainings + ctx_r0.training.imagePath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Language : \", ctx_r0.training.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.training.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: \", ctx_r0.training.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantity: \", ctx_r0.training.quantity, \"\");\n  }\n}\nfunction UpdeteTrainingComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 12, 13);\n    i0.ɵɵlistener(\"ngSubmit\", function UpdeteTrainingComponent_div_5_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.updeteTraining(ctx_r6.training));\n    });\n    i0.ɵɵelementStart(3, \"div\", 14)(4, \"label\", 15);\n    i0.ɵɵtext(5, \"Nom :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_5_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.training.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 14)(8, \"label\", 17);\n    i0.ɵɵtext(9, \"Description :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"textarea\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_5_Template_textarea_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.training.description = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 14)(12, \"label\", 19);\n    i0.ɵɵtext(13, \"Prix :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_5_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.training.price = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 14)(16, \"label\", 21);\n    i0.ɵɵtext(17, \"Quantit\\u00E9 :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_5_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.training.quantity = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 14)(20, \"label\", 23);\n    i0.ɵɵtext(21, \"Image :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 24);\n    i0.ɵɵlistener(\"change\", function UpdeteTrainingComponent_div_5_Template_input_change_22_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onFileChange($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"button\", 25);\n    i0.ɵɵtext(24, \"Enregistrer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(2);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.price);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.quantity);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", !_r5.valid);\n  }\n}\nexport class UpdeteTrainingComponent {\n  constructor(route, router, trainingService) {\n    this.route = route;\n    this.router = router;\n    this.trainingService = trainingService;\n    this.hostImageTrainings = environment.hostImageTrainings;\n  }\n  ngOnInit() {\n    this.training = this.trainingService.getTrainingForUpdate();\n    // this.trainingId = +this.route.snapshot.paramMap.get('id')!;\n    // this.name = this.route.snapshot.paramMap.get('name')!;\n    console.log('trainingId : ' + this.trainingId);\n    console.log('name : ' + this.name);\n    // Utilisez cette valeur pour effectuer les opérations de mise à jour nécessaires\n    // this.route.paramMap.subscribe((params) => {\n    //   const trainingId = +params.get('id')!;\n    //   this.trainingService.getTraining(trainingId).subscribe((training) => {\n    //     this.training = training;\n    //   });\n    // });\n  }\n\n  updeteTraining(training) {\n    console.log('trainingId 2: ' + this.training);\n    // this.trainingService.updateTraining(this.training).subscribe(() => {\n    //   this.router.navigate(['/trainings']);\n    // });\n  }\n\n  onFileChange(event) {\n    this.image = event.target.files[0];\n  }\n}\nUpdeteTrainingComponent.ɵfac = function UpdeteTrainingComponent_Factory(t) {\n  return new (t || UpdeteTrainingComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TrainingService));\n};\nUpdeteTrainingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdeteTrainingComponent,\n  selectors: [[\"app-updete-training\"]],\n  decls: 6,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"row\"], [\"class\", \"col-md-4\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"col-md-4\"], [1, \"card\", \"mb-3\"], [\"alt\", \"Training Image\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"btn\", \"btn-danger\", \"float-end\", \"mx-2\", 3, \"click\"], [1, \"btn\", \"btn-primary\", \"float-end\", \"mx-2\", 3, \"click\"], [3, \"ngSubmit\"], [\"updateForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"id\", \"quantity\", \"name\", \"quantity\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"image\"], [\"type\", \"file\", \"id\", \"image\", \"name\", \"image\", 3, \"change\"], [\"type\", \"submit\", 3, \"disabled\"]],\n  template: function UpdeteTrainingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Modifier la formation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵtemplate(4, UpdeteTrainingComponent_div_4_Template, 16, 5, \"div\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(5, UpdeteTrainingComponent_div_5_Template, 25, 5, \"div\", 3);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.training);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.training);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["environment","i0","UpdeteTrainingComponent","constructor","route","router","trainingService","hostImageTrainings","ngOnInit","training","getTrainingForUpdate","console","log","trainingId","name","updeteTraining","onFileChange","event","image","target","files","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\PazmanyC\\Desktop\\Api_Rest_Angular-&-SpringBoot\\ApiRestSpringBoot-Angular\\AngularApiRestTraining\\src\\app\\component\\updete-training\\updete-training.component.ts","C:\\Users\\PazmanyC\\Desktop\\Api_Rest_Angular-&-SpringBoot\\ApiRestSpringBoot-Angular\\AngularApiRestTraining\\src\\app\\component\\updete-training\\updete-training.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { environment } from 'src/app/environment/environment';\nimport { Training } from 'src/app/models/training';\nimport { TrainingService } from 'src/app/services/training/training.service';\n\n@Component({\n  selector: 'app-updete-training',\n  templateUrl: './updete-training.component.html',\n  styleUrls: ['./updete-training.component.css'],\n})\nexport class UpdeteTrainingComponent implements OnInit {\n  training!: Training;\n  image!: File;\n  trainingId!: number;\n  name!: string;\n  public hostImageTrainings: string = environment.hostImageTrainings;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private trainingService: TrainingService\n  ) {}\n\n  ngOnInit(): void {\n    this.training = this.trainingService.getTrainingForUpdate();\n    // this.trainingId = +this.route.snapshot.paramMap.get('id')!;\n    // this.name = this.route.snapshot.paramMap.get('name')!;\n    console.log('trainingId : ' + this.trainingId);\n    console.log('name : ' + this.name);\n    // Utilisez cette valeur pour effectuer les opérations de mise à jour nécessaires\n    // this.route.paramMap.subscribe((params) => {\n    //   const trainingId = +params.get('id')!;\n    //   this.trainingService.getTraining(trainingId).subscribe((training) => {\n    //     this.training = training;\n    //   });\n    // });\n  }\n\n  updeteTraining(training: Training): void {\n    console.log('trainingId 2: ' + this.training);\n\n    // this.trainingService.updateTraining(this.training).subscribe(() => {\n    //   this.router.navigate(['/trainings']);\n    // });\n  }\n\n  onFileChange(event: any): void {\n    this.image = event.target.files[0];\n  }\n}\n","<div class=\"container\">\n    <h1>Modifier la formation</h1>\n    <div class=\"row\">\n      <div class=\"col-md-4\"  *ngIf=\"training\">\n        <div class=\"card mb-3\">\n            <img [src]=\"hostImageTrainings + training.imagePath\" alt=\"Training Image\"> \n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Language : {{ training.name }}</h5>\n            <p class=\"card-text\">{{ training.description }}</p>\n            <p class=\"card-text\">Price: {{ training.price }}</p>\n            <p class=\"card-text\">Quantity: {{ training.quantity }}<button class=\"btn btn-danger float-end mx-2\" (click)=\"updeteTraining(training)\">Supprimer</button><button class=\"btn btn-primary float-end mx-2\" (click)=\"updateTraining(training)\">Modifier</button></p>\n            \n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- <p class=\"error-message\" *ngIf=\"error\">{{ error }}</p> -->\n  </div>\n\n<div *ngIf=\"training\">\n  <form (ngSubmit)=\"updeteTraining(training)\" #updateForm=\"ngForm\">\n    <div class=\"form-group\">\n      <label for=\"name\">Nom :</label>\n      <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"training.name\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"description\">Description :</label>\n      <textarea id=\"description\" name=\"description\" [(ngModel)]=\"training.description\" required></textarea>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"price\">Prix :</label>\n      <input type=\"number\" id=\"price\" name=\"price\" [(ngModel)]=\"training.price\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"quantity\">Quantité :</label>\n      <input type=\"number\" id=\"quantity\" name=\"quantity\" [(ngModel)]=\"training.quantity\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"image\">Image :</label>\n      <input type=\"file\" id=\"image\" name=\"image\" (change)=\"onFileChange($event)\">\n    </div>\n    <button type=\"submit\" [disabled]=\"!updateForm.valid\">Enregistrer</button>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}