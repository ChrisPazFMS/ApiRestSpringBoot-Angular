{"ast":null,"code":"import { environment } from 'src/app/environment/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/training/training.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UpdeteTrainingComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"img\", 6);\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"h5\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 9);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 9);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 9);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.hostImageTrainings + ctx_r0.training.imagePath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Language : \", ctx_r0.training.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.training.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: \", ctx_r0.training.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantity: \", ctx_r0.training.quantity, \" \");\n  }\n}\nfunction UpdeteTrainingComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 10);\n    i0.ɵɵlistener(\"ngSubmit\", function UpdeteTrainingComponent_div_7_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateTraining());\n    });\n    i0.ɵɵelementStart(2, \"div\", 11)(3, \"label\", 12);\n    i0.ɵɵtext(4, \"Nom :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_7_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.training.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 11)(7, \"label\", 14);\n    i0.ɵɵtext(8, \"Description :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"textarea\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_7_Template_textarea_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.training.description = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 11)(11, \"label\", 16);\n    i0.ɵɵtext(12, \"Prix :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_7_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.training.price = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 11)(15, \"label\", 18);\n    i0.ɵɵtext(16, \"Quantit\\u00E9 :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_7_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.training.quantity = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\")(19, \"button\", 20);\n    i0.ɵɵtext(20, \"Mettre \\u00E0 jour\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.price);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.training.quantity);\n  }\n}\nexport class UpdeteTrainingComponent {\n  constructor(route, router, trainingService) {\n    this.route = route;\n    this.router = router;\n    this.trainingService = trainingService;\n    this.hostImageTrainings = environment.hostImageTrainings;\n  }\n  ngOnInit() {\n    this.training = this.trainingService.getTrainingForUpdate();\n    this.getTraining();\n    console.log('trainingId : ' + this.training);\n    console.log('name : ' + this.training.name);\n  }\n  getTraining() {\n    const id = +this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.trainingService.getTrainingById(id).subscribe(training => {\n        this.training = training;\n      });\n    }\n  }\n  updateTraining() {\n    this.trainingService.updateTraining(this.training).subscribe(() => {\n      // Rediriger vers la liste des trainings après la mise à jour\n      this.router.navigate(['/trainings']);\n    });\n  }\n  onFileChange(event) {\n    this.image = event.target.files[0];\n  }\n}\nUpdeteTrainingComponent.ɵfac = function UpdeteTrainingComponent_Factory(t) {\n  return new (t || UpdeteTrainingComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TrainingService));\n};\nUpdeteTrainingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdeteTrainingComponent,\n  selectors: [[\"app-updete-training\"]],\n  decls: 8,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"row\"], [\"class\", \"col-md-4\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"col-md-4\"], [1, \"card\", \"mb-3\"], [\"alt\", \"Training Image\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"id\", \"quantity\", \"name\", \"quantity\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function UpdeteTrainingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Modifier la formation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵtemplate(4, UpdeteTrainingComponent_div_4_Template, 12, 5, \"div\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"h2\");\n      i0.ɵɵtext(6, \"Modifier l'entra\\u00EEnement\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, UpdeteTrainingComponent_div_7_Template, 21, 4, \"div\", 3);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.training);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.training);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,WAAW,QAAQ,iCAAiC;;;;;;;;ICCvDC,8BAAwC;IAElCA,yBAA0E;IAC5EA,8BAAuB;IACEA,YAA8B;IAAAA,iBAAK;IAC1DA,4BAAqB;IAAAA,YAA0B;IAAAA,iBAAI;IACnDA,4BAAqB;IAAAA,YAA2B;IAAAA,iBAAI;IACpDA,6BAAqB;IAAAA,aAEvB;IAFEA,iBAAqB;;;;IALhBA,eAA+C;IAA/CA,6FAA+C;IAE7BA,eAA8B;IAA9BA,8DAA8B;IAChCA,eAA0B;IAA1BA,iDAA0B;IAC1BA,eAA2B;IAA3BA,2DAA2B;IAC3BA,eAEvB;IAFuBA,kEAEvB;;;;;;IASRA,2BAAsB;IACdA;MAAAA;MAAA;MAAA,OAAYA,sCAAgB;IAAA,EAAC;IACjCA,+BAAwB;IACJA,qBAAK;IAAAA,iBAAQ;IAC/BA,iCAAmG;IAArCA;MAAAA;MAAA;MAAA,OAAaA,6CAAqB;IAAA,EAAP;IAAzFA,iBAAmG;IAErGA,+BAAwB;IACGA,6BAAa;IAAAA,iBAAQ;IAC9CA,oCAA+G;IAA5CA;MAAAA;MAAA;MAAA,OAAaA,oDAA4B;IAAA,EAAP;IAAUA,iBAAW;IAE5HA,gCAAwB;IACHA,uBAAM;IAAAA,iBAAQ;IACjCA,kCAAwG;IAAtCA;MAAAA;MAAA;MAAA,OAAaA,8CAAsB;IAAA,EAAP;IAA9FA,iBAAwG;IAE1GA,gCAAwB;IACAA,gCAAU;IAAAA,iBAAQ;IACxCA,kCAAiH;IAAzCA;MAAAA;MAAA;MAAA,OAAaA,iDAAyB;IAAA,EAAP;IAAvGA,iBAAiH;IAEnHA,4BAAK;IAC2CA,mCAAa;IAAAA,iBAAS;;;;IAfNA,eAA2B;IAA3BA,8CAA2B;IAItBA,eAAkC;IAAlCA,qDAAkC;IAInCA,eAA4B;IAA5BA,+CAA4B;IAItBA,eAA+B;IAA/BA,kDAA+B;;;AD1B/G,OAAM,MAAOC,uBAAuB;EAOlCC,YACUC,KAAqB,EACrBC,MAAc,EACdC,eAAgC;IAFhC,UAAK,GAALF,KAAK;IACL,WAAM,GAANC,MAAM;IACN,oBAAe,GAAfC,eAAe;IALlB,uBAAkB,GAAWN,WAAW,CAACO,kBAAkB;EAM/D;EAEHC,QAAQ;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACH,eAAe,CAACI,oBAAoB,EAAE;IAC3D,IAAI,CAACC,WAAW,EAAE;IAClBC,OAAO,CAACC,GAAG,CAAC,eAAe,GAAG,IAAI,CAACJ,QAAQ,CAAC;IAC5CG,OAAO,CAACC,GAAG,CAAC,SAAS,GAAG,IAAI,CAACJ,QAAQ,CAACK,IAAI,CAAC;EAC7C;EAEAH,WAAW;IACT,MAAMI,EAAE,GAAG,CAAC,IAAI,CAACX,KAAK,CAACY,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE;IACnD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACT,eAAe,CAACa,eAAe,CAACJ,EAAE,CAAC,CAACK,SAAS,CAAEX,QAAQ,IAAI;QAC9D,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MAC1B,CAAC,CAAC;;EAEN;EAEAY,cAAc;IACZ,IAAI,CAACf,eAAe,CAACe,cAAc,CAAC,IAAI,CAACZ,QAAQ,CAAC,CAACW,SAAS,CAAC,MAAK;MAChE;MACA,IAAI,CAACf,MAAM,CAACiB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC,CAAC;EACJ;EACAC,YAAY,CAACC,KAAU;IACrB,IAAI,CAACC,KAAK,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EACpC;;AArCWzB,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXpC/B,8BAAuB;MACfA,qCAAqB;MAAAA,iBAAK;MAC9BA,8BAAiB;MACfA,yEAWM;MACRA,iBAAM;MAIRA,0BAAI;MAAAA,4CAAuB;MAAAA,iBAAK;MAEhCA,yEAsBM;;;MAxCsBA,eAAc;MAAdA,mCAAc;MAkBpCA,eAAc;MAAdA,mCAAc","names":["environment","i0","UpdeteTrainingComponent","constructor","route","router","trainingService","hostImageTrainings","ngOnInit","training","getTrainingForUpdate","getTraining","console","log","name","id","snapshot","paramMap","get","getTrainingById","subscribe","updateTraining","navigate","onFileChange","event","image","target","files","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\PazmanyC\\Desktop\\Api_Rest_Angular-&-SpringBoot\\ApiRestSpringBoot-Angular\\AngularApiRestTraining\\src\\app\\component\\updete-training\\updete-training.component.ts","C:\\Users\\PazmanyC\\Desktop\\Api_Rest_Angular-&-SpringBoot\\ApiRestSpringBoot-Angular\\AngularApiRestTraining\\src\\app\\component\\updete-training\\updete-training.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { environment } from 'src/app/environment/environment';\nimport { Training } from 'src/app/models/training';\nimport { TrainingService } from 'src/app/services/training/training.service';\n\n@Component({\n  selector: 'app-updete-training',\n  templateUrl: './updete-training.component.html',\n  styleUrls: ['./updete-training.component.css'],\n})\nexport class UpdeteTrainingComponent implements OnInit {\n  training!: Training;\n  image!: File;\n  trainingId!: number;\n  name!: string;\n  public hostImageTrainings: string = environment.hostImageTrainings;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private trainingService: TrainingService\n  ) {}\n\n  ngOnInit(): void {\n    this.training = this.trainingService.getTrainingForUpdate();\n    this.getTraining();\n    console.log('trainingId : ' + this.training);\n    console.log('name : ' + this.training.name);\n  }\n\n  getTraining(): void {\n    const id = +this.route.snapshot.paramMap.get('id')!;\n    if (id) {\n      this.trainingService.getTrainingById(id).subscribe((training) => {\n        this.training = training;\n      });\n    }\n  }\n\n  updateTraining(): void {\n    this.trainingService.updateTraining(this.training).subscribe(() => {\n      // Rediriger vers la liste des trainings après la mise à jour\n      this.router.navigate(['/trainings']);\n    });\n  }\n  onFileChange(event: any): void {\n    this.image = event.target.files[0];\n  }\n}\n","<div class=\"container\">\n    <h1>Modifier la formation</h1>\n    <div class=\"row\">\n      <div class=\"col-md-4\"  *ngIf=\"training\">\n        <div class=\"card mb-3\">\n            <img [src]=\"hostImageTrainings + training.imagePath\" alt=\"Training Image\"> \n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Language : {{ training.name }}</h5>\n            <p class=\"card-text\">{{ training.description }}</p>\n            <p class=\"card-text\">Price: {{ training.price }}</p>\n            <p class=\"card-text\">Quantity: {{ training.quantity }}\n            \n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- <p class=\"error-message\" *ngIf=\"error\">{{ error }}</p> -->\n  </div>\n\n  <h2>Modifier l'entraînement</h2>\n\n  <div *ngIf=\"training\">\n    <form (ngSubmit)=\"updateTraining()\">\n      <div class=\"form-group\">\n        <label for=\"name\">Nom :</label>\n        <input type=\"text\" id=\"name\" name=\"name\" class=\"form-control\" [(ngModel)]=\"training.name\" required>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"description\">Description :</label>\n        <textarea id=\"description\" name=\"description\" class=\"form-control\" [(ngModel)]=\"training.description\" required></textarea>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"price\">Prix :</label>\n        <input type=\"number\" id=\"price\" name=\"price\" class=\"form-control\" [(ngModel)]=\"training.price\" required>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"quantity\">Quantité :</label>\n        <input type=\"number\" id=\"quantity\" name=\"quantity\" class=\"form-control\" [(ngModel)]=\"training.quantity\" required>\n      </div>\n      <div>\n        <button type=\"submit\" class=\"btn btn-primary\">Mettre à jour</button>\n      </div>\n    </form>\n  </div>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}