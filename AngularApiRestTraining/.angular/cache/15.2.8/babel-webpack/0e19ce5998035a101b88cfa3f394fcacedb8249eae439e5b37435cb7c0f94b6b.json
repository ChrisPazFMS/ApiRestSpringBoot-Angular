{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/training/training.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UpdeteTrainingComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 1, 2);\n    i0.ɵɵlistener(\"ngSubmit\", function UpdeteTrainingComponent_div_2_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updeteTraining());\n    });\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"label\", 4);\n    i0.ɵɵtext(5, \"Nom :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.training.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\", 6);\n    i0.ɵɵtext(9, \"Description :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"textarea\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_2_Template_textarea_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.training.description = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 8);\n    i0.ɵɵtext(13, \"Prix :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_2_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.training.price = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\", 10);\n    i0.ɵɵtext(17, \"Quantit\\u00E9 :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function UpdeteTrainingComponent_div_2_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.training.quantity = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 3)(20, \"label\", 12);\n    i0.ɵɵtext(21, \"Image :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 13);\n    i0.ɵɵlistener(\"change\", function UpdeteTrainingComponent_div_2_Template_input_change_22_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onFileChange($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"button\", 14);\n    i0.ɵɵtext(24, \"Enregistrer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r1 = i0.ɵɵreference(2);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.training.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.training.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.training.price);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.training.quantity);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", !_r1.valid);\n  }\n}\nexport class UpdeteTrainingComponent {\n  constructor(route, router, trainingService) {\n    this.route = route;\n    this.router = router;\n    this.trainingService = trainingService;\n  }\n  ngOnInit() {\n    this.trainingId = +this.route.snapshot.paramMap.get('id');\n    // Utilisez cette valeur pour effectuer les opérations de mise à jour nécessaires\n    // this.route.paramMap.subscribe((params) => {\n    //   const trainingId = +params.get('id')!;\n    //   this.trainingService.getTraining(trainingId).subscribe((training) => {\n    //     this.training = training;\n    //   });\n    // });\n  }\n\n  updeteTraining() {\n    this.trainingService.updateTraining(this.training).subscribe(() => {\n      this.router.navigate(['/trainings']);\n    });\n  }\n  onFileChange(event) {\n    this.image = event.target.files[0];\n  }\n}\nUpdeteTrainingComponent.ɵfac = function UpdeteTrainingComponent_Factory(t) {\n  return new (t || UpdeteTrainingComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TrainingService));\n};\nUpdeteTrainingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdeteTrainingComponent,\n  selectors: [[\"app-updete-training\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [3, \"ngSubmit\"], [\"updateForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"id\", \"quantity\", \"name\", \"quantity\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"image\"], [\"type\", \"file\", \"id\", \"image\", \"name\", \"image\", 3, \"change\"], [\"type\", \"submit\", 3, \"disabled\"]],\n  template: function UpdeteTrainingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Modifier la formation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, UpdeteTrainingComponent_div_2_Template, 25, 5, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.training);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAEAA,2BAAsB;IACdA;MAAAA;MAAA;MAAA,OAAYA,sCAAgB;IAAA,EAAC;IACjCA,8BAAwB;IACJA,qBAAK;IAAAA,iBAAQ;IAC/BA,gCAA8E;IAArCA;MAAAA;MAAA;MAAA,OAAaA,6CAAqB;IAAA,EAAP;IAApEA,iBAA8E;IAEhFA,8BAAwB;IACGA,6BAAa;IAAAA,iBAAQ;IAC9CA,oCAA0F;IAA5CA;MAAAA;MAAA;MAAA,OAAaA,oDAA4B;IAAA,EAAP;IAAUA,iBAAW;IAEvGA,+BAAwB;IACHA,uBAAM;IAAAA,iBAAQ;IACjCA,iCAAmF;IAAtCA;MAAAA;MAAA;MAAA,OAAaA,8CAAsB;IAAA,EAAP;IAAzEA,iBAAmF;IAErFA,+BAAwB;IACAA,gCAAU;IAAAA,iBAAQ;IACxCA,kCAA4F;IAAzCA;MAAAA;MAAA;MAAA,OAAaA,iDAAyB;IAAA,EAAP;IAAlFA,iBAA4F;IAE9FA,+BAAwB;IACHA,wBAAO;IAAAA,iBAAQ;IAClCA,kCAA2E;IAAhCA;MAAAA;MAAA;MAAA,OAAUA,0CAAoB;IAAA,EAAC;IAA1EA,iBAA2E;IAE7EA,mCAAqD;IAAAA,4BAAW;IAAAA,iBAAS;;;;;IAlB9BA,eAA2B;IAA3BA,8CAA2B;IAItBA,eAAkC;IAAlCA,qDAAkC;IAInCA,eAA4B;IAA5BA,+CAA4B;IAItBA,eAA+B;IAA/BA,kDAA+B;IAM9DA,eAA8B;IAA9BA,qCAA8B;;;ACfxD,OAAM,MAAOC,uBAAuB;EAIlCC,YACUC,KAAqB,EACrBC,MAAc,EACdC,eAAgC;IAFhC,UAAK,GAALF,KAAK;IACL,WAAM,GAANC,MAAM;IACN,oBAAe,GAAfC,eAAe;EACtB;EAEHC,QAAQ;IACN,IAAI,CAACC,UAAU,GAAG,CAAC,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE;IAC1D;IACA;IACA;IACA;IACA;IACA;IACA;EACF;;EAEAC,cAAc;IACZ,IAAI,CAACN,eAAe,CAACO,cAAc,CAAC,IAAI,CAACC,QAAQ,CAAC,CAACC,SAAS,CAAC,MAAK;MAChE,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC,CAAC;EACJ;EAEAC,YAAY,CAACC,KAAU;IACrB,IAAI,CAACC,KAAK,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EACpC;;AA7BWnB,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDTpCzB,0BAAI;MAAAA,qCAAqB;MAAAA,iBAAK;MAE9BA,yEAwBM;;;MAxBAA,eAAc;MAAdA,mCAAc","names":["i0","UpdeteTrainingComponent","constructor","route","router","trainingService","ngOnInit","trainingId","snapshot","paramMap","get","updeteTraining","updateTraining","training","subscribe","navigate","onFileChange","event","image","target","files","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\PazmanyC\\Desktop\\Api_Rest_Angular-&-SpringBoot\\ApiRestSpringBoot-Angular\\AngularApiRestTraining\\src\\app\\component\\updete-training\\updete-training.component.html","C:\\Users\\PazmanyC\\Desktop\\Api_Rest_Angular-&-SpringBoot\\ApiRestSpringBoot-Angular\\AngularApiRestTraining\\src\\app\\component\\updete-training\\updete-training.component.ts"],"sourcesContent":["<h2>Modifier la formation</h2>\n\n<div *ngIf=\"training\">\n  <form (ngSubmit)=\"updeteTraining()\" #updateForm=\"ngForm\">\n    <div class=\"form-group\">\n      <label for=\"name\">Nom :</label>\n      <input type=\"text\" id=\"name\" name=\"name\" [(ngModel)]=\"training.name\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"description\">Description :</label>\n      <textarea id=\"description\" name=\"description\" [(ngModel)]=\"training.description\" required></textarea>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"price\">Prix :</label>\n      <input type=\"number\" id=\"price\" name=\"price\" [(ngModel)]=\"training.price\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"quantity\">Quantité :</label>\n      <input type=\"number\" id=\"quantity\" name=\"quantity\" [(ngModel)]=\"training.quantity\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"image\">Image :</label>\n      <input type=\"file\" id=\"image\" name=\"image\" (change)=\"onFileChange($event)\">\n    </div>\n    <button type=\"submit\" [disabled]=\"!updateForm.valid\">Enregistrer</button>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TrainingService } from 'src/app/services/training/training.service';\n\n@Component({\n  selector: 'app-updete-training',\n  templateUrl: './updete-training.component.html',\n  styleUrls: ['./updete-training.component.css'],\n})\nexport class UpdeteTrainingComponent implements OnInit {\n  training: any;\n  image!: File;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private trainingService: TrainingService\n  ) {}\n\n  ngOnInit(): void {\n    this.trainingId = +this.route.snapshot.paramMap.get('id')!;\n    // Utilisez cette valeur pour effectuer les opérations de mise à jour nécessaires\n    // this.route.paramMap.subscribe((params) => {\n    //   const trainingId = +params.get('id')!;\n    //   this.trainingService.getTraining(trainingId).subscribe((training) => {\n    //     this.training = training;\n    //   });\n    // });\n  }\n\n  updeteTraining(): void {\n    this.trainingService.updateTraining(this.training).subscribe(() => {\n      this.router.navigate(['/trainings']);\n    });\n  }\n\n  onFileChange(event: any): void {\n    this.image = event.target.files[0];\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}