{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nlet UpdeteTrainingComponent = class UpdeteTrainingComponent {\n  // public hostImageTrainings: string = environment.hostImageTrainings;\n  constructor(route, router, trainingService, environment = any) {\n    this.route = route;\n    this.router = router;\n    this.trainingService = trainingService;\n    this.environment = environment;\n    this.file = 'imageTraining/';\n  }\n  ngOnInit() {\n    this.training = this.trainingService.getTrainingForUpdate();\n    // this.getTraining();\n    console.log('trainingId : ' + this.training);\n    console.log('name : ' + this.training.name);\n  }\n  getTraining() {\n    const id = +this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.trainingService.getTrainingById(id).subscribe(training => {\n        this.training = training;\n      });\n    }\n  }\n  updateTraining() {\n    this.trainingService.updateTraining(this.training).subscribe(() => {\n      console.log('updeteTraining this.training: ' + this.training.imagePath);\n      // Rediriger vers la liste des trainings après la mise à jour\n      this.router.navigate(['/trainings']);\n    });\n  }\n  onFileChange(event) {\n    const file = event.target.files[0];\n    this.training.imagePath = this.hostImageTrainings + file.name;\n    this.training.imagePath.name;\n  }\n  resetForm() {\n    this.resetFormSave.reset();\n  }\n};\n__decorate([ViewChild('resetFormSave', {\n  static: false\n})], UpdeteTrainingComponent.prototype, \"resetFormSave\", void 0);\nUpdeteTrainingComponent = __decorate([Component({\n  selector: 'app-updete-training',\n  templateUrl: './updete-training.component.html',\n  styleUrls: ['./updete-training.component.css']\n})], UpdeteTrainingComponent);\nexport { UpdeteTrainingComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAUC,SAAS,QAAQ,eAAe;AAWrD,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAMlC;EAEAC,YACUC,KAAqB,EACrBC,MAAc,EACdC,eAAgC,EAChCC,cAA2BC,GAAG;IAH9B,UAAK,GAALJ,KAAK;IACL,WAAM,GAANC,MAAM;IACN,oBAAe,GAAfC,eAAe;IACf,gBAAW,GAAXC,WAAW;IAPrB,SAAI,GAAQ,gBAAgB;EAQzB;EAEHE,QAAQ;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACJ,eAAe,CAACK,oBAAoB,EAAE;IAC3D;IACAC,OAAO,CAACC,GAAG,CAAC,eAAe,GAAG,IAAI,CAACH,QAAQ,CAAC;IAC5CE,OAAO,CAACC,GAAG,CAAC,SAAS,GAAG,IAAI,CAACH,QAAQ,CAACI,IAAI,CAAC;EAC7C;EAEAC,WAAW;IACT,MAAMC,EAAE,GAAG,CAAC,IAAI,CAACZ,KAAK,CAACa,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE;IACnD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACV,eAAe,CAACc,eAAe,CAACJ,EAAE,CAAC,CAACK,SAAS,CAAEX,QAAQ,IAAI;QAC9D,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MAC1B,CAAC,CAAC;;EAEN;EAEAY,cAAc;IACZ,IAAI,CAAChB,eAAe,CAACgB,cAAc,CAAC,IAAI,CAACZ,QAAQ,CAAC,CAACW,SAAS,CAAC,MAAK;MAChET,OAAO,CAACC,GAAG,CAAC,gCAAgC,GAAG,IAAI,CAACH,QAAQ,CAACa,SAAS,CAAC;MACvE;MACA,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC,CAAC;EACJ;EAEAC,YAAY,CAACC,KAAU;IACrB,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,IAAI,CAACnB,QAAQ,CAACa,SAAS,GAAG,IAAI,CAACO,kBAAkB,GAAGH,IAAI,CAACb,IAAI;IAC7D,IAAI,CAACJ,QAAQ,CAACa,SAAS,CAACT,IAAI;EAC9B;EAEAiB,SAAS;IACP,IAAI,CAACC,aAAa,CAACC,KAAK,EAAE;EAC5B;CACD;AA/CgDC,YAA9CjC,SAAS,CAAC,eAAe,EAAE;EAAEkC,MAAM,EAAE;AAAK,CAAE,CAAC,8DAAoB;AADvDjC,uBAAuB,eALnCF,SAAS,CAAC;EACToC,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACWpC,uBAAuB,CAgDnC;SAhDYA,uBAAuB","names":["Component","ViewChild","UpdeteTrainingComponent","constructor","route","router","trainingService","environment","any","ngOnInit","training","getTrainingForUpdate","console","log","name","getTraining","id","snapshot","paramMap","get","getTrainingById","subscribe","updateTraining","imagePath","navigate","onFileChange","event","file","target","files","hostImageTrainings","resetForm","resetFormSave","reset","__decorate","static","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\PazmanyC\\Desktop\\Api_Rest_Angular-&-SpringBoot\\ApiRestSpringBoot-Angular\\AngularApiRestTraining\\src\\app\\component\\updete-training\\updete-training.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { environment } from 'src/app/environment/environment';\nimport { Training } from 'src/app/models/training';\nimport { TrainingService } from 'src/app/services/training/training.service';\n\n@Component({\n  selector: 'app-updete-training',\n  templateUrl: './updete-training.component.html',\n  styleUrls: ['./updete-training.component.css'],\n})\nexport class UpdeteTrainingComponent implements OnInit {\n  @ViewChild('resetFormSave', { static: false }) resetFormSave: any;\n  training!: Training;\n  trainingId!: number;\n  name!: string;\n  file: any = 'imageTraining/';\n  // public hostImageTrainings: string = environment.hostImageTrainings;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private trainingService: TrainingService,\n    private environment: Environment = any\n  ) {}\n\n  ngOnInit(): void {\n    this.training = this.trainingService.getTrainingForUpdate();\n    // this.getTraining();\n    console.log('trainingId : ' + this.training);\n    console.log('name : ' + this.training.name);\n  }\n\n  getTraining(): void {\n    const id = +this.route.snapshot.paramMap.get('id')!;\n    if (id) {\n      this.trainingService.getTrainingById(id).subscribe((training) => {\n        this.training = training;\n      });\n    }\n  }\n\n  updateTraining(): void {\n    this.trainingService.updateTraining(this.training).subscribe(() => {\n      console.log('updeteTraining this.training: ' + this.training.imagePath);\n      // Rediriger vers la liste des trainings après la mise à jour\n      this.router.navigate(['/trainings']);\n    });\n  }\n\n  onFileChange(event: any) {\n    const file = event.target.files[0];\n    this.training.imagePath = this.hostImageTrainings + file.name;\n    this.training.imagePath.name;\n  }\n\n  resetForm(): void {\n    this.resetFormSave.reset();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}